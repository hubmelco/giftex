(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{106:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},157:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},187:function(e,t,a){},210:function(e,t){},215:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){},241:function(e,t,a){},242:function(e,t,a){},243:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(22),s=a.n(r),i=(a(157),a(8)),o=a(10),l=a(12),d=(a(59),a(11)),j=a.n(d),b=a(15),u=a(21),m=a(5),h=a(14),O=a.n(h),x=(a(177),a(178),Object(c.createContext)(null)),f=a(262),p=a(139),g=a(260),v=a(253),N=a(138),y=a(0);var C=function(){var e=Object(c.useContext)(x).user,t=Object(c.useState)(!1),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)({amount:"",error:""}),o=Object(i.a)(s,2),l=o[0],d=o[1],j=function(){return""!==l.error};return Object(y.jsxs)("div",{className:"paypal-container",children:[Object(y.jsxs)("div",{children:[Object(y.jsxs)(v.a,{className:"w-100",children:[Object(y.jsx)(v.a.Prepend,{children:Object(y.jsx)(v.a.Text,{children:"$"})}),Object(y.jsx)(N.a,{className:j()?"is-invalid":"","aria-label":"Amount (to the nearest dollar)",onChange:function(e){return function(e){document.getElementById("paypal").innerHTML="",r(!1);var t=e.target.value;d((function(e){return Object(m.a)(Object(m.a)({},e),{},{error:""})})),d((function(e){return Object(m.a)(Object(m.a)({},e),{},{amount:t})}))}(e)}}),Object(y.jsx)(v.a.Append,{children:Object(y.jsx)(p.a,{disabled:n,onClick:function(t){t.preventDefault();var a=/^\d+(\.\d{1,2})?$/.test(l.amount);""===l.amount?d((function(e){return Object(m.a)(Object(m.a)({},e),{},{error:"Must enter an amount"})})):a?(window.paypal.Button.render({style:{layout:"vertical"},funding:{allowed:[window.paypal.FUNDING.CARD],disallowed:[window.paypal.FUNDING.CREDIT]},env:"sandbox",payment:function(t,a){return a.request.post("http://localhost:3001/paypal/create-payment",{amount:l.amount},{headers:{authorization:"BEARER "+e}}).then((function(e){return console.log(e),e.id}))},onAuthorize:function(t,a){return a.request.post("http://localhost:3001/paypal/execute-payment",{paymentID:t.paymentID,payerID:t.payerID,amount:l.amount},{headers:{authorization:"BEARER "+e}}).then((function(e){console.log(e)}))}},"#paypal"),r(!0)):d((function(e){return Object(m.a)(Object(m.a)({},e),{},{error:"Must enter a valid dollar amount"})}))},variant:"outline-secondary",children:"Next"})})]}),Object(y.jsx)("div",{className:j()?"form-error-message":"hidden",children:l.error})]}),Object(y.jsx)("div",{className:"paypal-buttons",children:Object(y.jsx)("div",{id:"paypal"})})]})};var k=function(){Object(c.useContext)(x).user;var e=Object(c.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)({amount:1}),s=Object(i.a)(r,2),o=(s[0],s[1],function(){n(!1)});return Object(y.jsxs)("div",{children:[Object(y.jsx)("a",{id:"addFunds",onClick:function(){console.log(a),n(!0)},style:{width:"120px",height:"35px",margin:"0"},children:"Add Account Funds"}),Object(y.jsxs)(g.a,{show:a,onHide:o,children:[Object(y.jsx)(g.a.Header,{closeButton:!0,children:Object(y.jsx)(g.a.Title,{children:"Adding Funds"})}),Object(y.jsx)(g.a.Body,{children:Object(y.jsx)(C,{})}),Object(y.jsx)(g.a.Footer,{children:Object(y.jsx)(p.a,{variant:"secondary",onClick:o,children:"Close"})})]})]})};var w=function(){var e=Object(c.useContext)(x).user;return Object(c.useEffect)((function(){}),[]),e?Object(y.jsx)(o.b,{to:"/AddGift",children:Object(y.jsx)(p.a,{id:"addAGiftId",children:"Add a Gift"})}):Object(y.jsx)(o.b,{to:"/signup",children:Object(y.jsx)(p.a,{id:"getStartedId",children:"Get Started"})})},E=a.p+"static/media/wish.ac843f95.png",S=a(27),I=a(34),D=a(84),B=a(76);a(187);var P=function(){var e=Object(c.useContext)(x).user;return Object(c.useEffect)((function(){}),[]),e?Object(y.jsx)(o.b,{to:"/AddEvent",children:Object(y.jsx)(p.a,{id:"addAnEventId",children:"Add an Event"})}):Object(y.jsx)("div",{})},T=a(142),G=a.n(T),A=a(213),F=G()("http://localhost:3001"),L=A().configure(A.socketio(F,{timeout:15e3})).configure(A.authentication({storage:window.localStorage})),R=L.service("users"),M=L.service("events"),z=L.service("gifts"),H=L.service("user-relationships");var U=function(){var e=Object(c.useContext)(x),t=e.user,a=e.setUser,n=Object(c.useState)({name:"",dataList:null}),r=Object(i.a)(n,2),s=r[0],d=r[1],j=Object(c.useState)(!0),b=Object(i.a)(j,2),u=(b[0],b[1],Object(c.useState)({priv:0,gift_name:"",receiving_email:"",gift_price:"",gift_image:"",gift_description:"",gift_url:"",funds:0,isValid:!0,menuModal:!1})),h=Object(i.a)(u,2),O=h[0],g=(h[1],Object(c.useState)([])),v=Object(i.a)(g,2),N=(v[0],v[1],Object(c.useState)([])),C=Object(i.a)(N,2),T=(C[0],C[1],Object(c.useState)(null)),G=Object(i.a)(T,2),A=G[0],F=G[1];Object(c.useEffect)((function(){L.reAuthenticate().then((function(e){a(e.user),H.find({query:{otherUserId:t.id,$or:[{type:"friend-request"}]}}).then((function(e){var t=e.data,a=[];t.forEach((function(e){R.get(e.userId).then((function(e){a.push(e)})).catch((function(e){console.log("uh oh speghettio")}))})),F(a),console.log(A)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log("Issue authenticating",e)}))}),[]),Object(c.useEffect)((function(){s.name.value&&s.name.value.length>=3&&R.find({query:{$select:["name","id"],$sort:{name:1},id:{$ne:t.id},name:{$like:s.name.value+"%"}}}).then((function(e){console.log(e)})).catch((function(){d((function(e){return Object(m.a)(Object(m.a)({},e),{},{dataList:null})}))}))}),[s.name]);var M=function(e){var t=e.target.value;d((function(e){return Object(m.a)(Object(m.a)({},e),{},{name:{value:t}})}))},z=function(e,t,a){a&&H.patch(null,{type:"friends"},{query:{userId:e,otherUserId:t,type:"friend-request"}}).then((function(){H.create({otherUserId:e,userId:t,type:"friends"}).then((function(){console.log("FRIEND ADDED!!!")})).catch((function(){console.log("ERROR OCCURRED")}))}))},U=Object(l.g)();function q(e){U.push(e)}return t?Object(y.jsxs)("div",{className:"header flex flex-space-between",children:[Object(y.jsx)("div",{className:"logo-column",children:Object(y.jsx)("a",{href:"/",children:Object(y.jsx)("img",{class:"logo",src:E,alt:"logo"})})}),Object(y.jsxs)("div",{className:"flex flex-center flex-gap",children:[Object(y.jsx)(w,{}),Object(y.jsx)(P,{}),Object(y.jsx)("span",{className:"formatLine",children:Object(y.jsx)(o.b,{className:"test",to:"/about",children:Object(y.jsx)("i",{id:"privateinfo",title:"About Us",className:"fas fa-book-open",style:{color:"black"}})})}),A?Object(y.jsxs)(f.a,{className:"",children:[Object(y.jsx)(D.a,{variant:"warning",id:"bell-icon",children:Object(y.jsxs)("span",{children:[Object(y.jsx)(I.a,{icon:S.b,color:"red",transform:"shrink-6 up-6 left-5"}),Object(y.jsx)(I.a,{icon:S.a,transform:"left-25"})]})}),Object(y.jsx)(B.a,{children:A.map((function(e,a){return console.log(e),Object(y.jsx)(f.a.ItemText,{children:Object(y.jsxs)("div",{className:"notification-box",children:[Object(y.jsxs)("div",{className:"notification-box",style:{gap:"0.75rem"},children:[Object(y.jsx)("img",{src:"https://pressgazette.co.uk/wp-content/uploads/2020/11/shutterstock.jpg",className:"mr-2",style:{borderRadius:"50%",width:"50px",height:"50px",flexGrow:"1",objectFit:"cover"},alt:e.name}),Object(y.jsx)(o.b,{to:"/account/"+e.id,style:{textDecoration:"none",color:"black"},children:e.name})]}),Object(y.jsxs)("div",{className:"notification-box",style:{gap:"0.75rem"},children:[Object(y.jsx)(p.a,{className:"notification-button",onClick:function(){return z(e.id,t.id,!0)},style:{backgroundColor:"#93e4f3"},children:"Add"}),Object(y.jsx)(p.a,{className:"notification-button",onClick:function(){return z(e.id,t.id,!1)},style:{backgroundColor:"red"},children:"Decline"})]})]})})}))})]}):Object(y.jsx)("span",{children:Object(y.jsx)("i",{id:"privateinfo",title:"Notifications",className:"fas fa-bell"})}),Object(y.jsxs)(f.a,{id:"dropdown",className:"mr-1",children:[Object(y.jsx)(f.a.Toggle,{variant:"warning",id:"info-icon",children:Object(y.jsx)(I.a,{icon:S.g})}),Object(y.jsxs)(f.a.Menu,{className:"textFont",children:[Object(y.jsx)(f.a.Item,{onClick:function(){return q("/account/"+t.id)},children:"View Profile"}),Object(y.jsxs)(f.a.ItemText,{children:["Funds: $",O.funds/100]}),Object(y.jsx)(f.a.Item,{children:Object(y.jsx)(k,{})}),Object(y.jsx)(f.a.Item,{onClick:function(){return q("/settings")},children:"Settings"}),Object(y.jsx)(f.a.Item,{onClick:function(e){e.preventDefault(),a(null),L.logout(),localStorage.clear(),window.location.href="/"},children:"Sign Out"})]})]}),Object(y.jsxs)("form",{className:"search-box",onSubmit:function(e){e.preventDefault(),U.push("/search="+s.name.value)},children:[Object(y.jsx)("input",{type:"text",placeholder:"Search for People on Wishwell",onChange:M}),Object(y.jsx)("button",{type:"reset"})]})]})]}):Object(y.jsxs)("div",{className:"header flex flex-space-between",children:[Object(y.jsx)("div",{className:"logo-column",children:Object(y.jsx)(o.b,{to:"/",children:Object(y.jsx)("img",{className:"logo",src:E,alt:"logo"})})}),Object(y.jsxs)("div",{className:"flex flex-center flex-gap",children:[Object(y.jsx)(o.b,{to:"/about",id:"aboutRef",className:"mr-3",children:"About Us"}),Object(y.jsx)(o.b,{to:"/login",id:"logInRef",className:"mr-3",children:"Sign in"}),Object(y.jsx)(o.b,{to:"/signup",className:"shadow-sm btn",id:"signup-button",children:"Sign Up"})]})]})},q=(a(215),a(143));var $=function(){return Object(y.jsx)("div",{children:Object(y.jsx)(q.GoogleLogin,{clientId:"226396248276-hg5hj7tr2fbhsiu55o5v75unhtl8ipo7.apps.googleusercontent.com",buttenText:"Login",scope:"https://www.googleapis.com/auth/user.birthday.read",onSuccess:function(e){console.log(e)},onFailure:function(e){console.log("[Login failed] res: ",e)},cookiePolicy:"single_host_origin",isSignedIn:!0})})},_=a(254),Y=a(67),V=a(261),W=a(144),K=a(266);var Z=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!1),s=Object(i.a)(r,2),o=s[0],l=s[1],d=Object(c.useState)({name:"",email:"",dob:"",password:"",confirmPassword:"",errors:[]}),h=Object(i.a)(d,2),O=h[0],x=h[1],f=function(e){var t=e.target,a=t.name,c=t.value;switch(x((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(u.a)({},a,c))})),e.target.name){case"confirmPassword":O.errors.confirmPassword=O.password===e.target.value?"":"Passwords do not match";break;case"password":O.errors.confirmPassword=O.confirmPassword===e.target.value?"":"Passwords do not match";break;case"dob":O.errors.dob=e.target.value.match(/\d{4}-\d{1,2}-\d{1,2}/)&&e.target.value.split("-")[0]<(new Date).getFullYear()?"":"Invalid date of birth";break;case"email":O.errors.email=e.target.value.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)?"":"Please enter valid email"}},g=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!v()){e.next=16;break}return a=0,o&&(a=1),c={name:O.name,email:O.email,password:O.password,dob:O.dob,private:a},e.prev=5,e.next=8,R.create(c);case 8:window.location.href="/login",e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),console.log(c),console.log(e.t0);case 15:console.log("Submitted!");case 16:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){return""===O.errors.confirmPassword&&""===O.errors.terms&&""===O.errors.dob&&""===O.errors.email};return Object(y.jsxs)("div",{className:"textFont",children:[Object(y.jsx)(U,{}),Object(y.jsx)(_.a,{className:"my-3 d-flex justify-content-center",id:"signupContainer",children:Object(y.jsxs)(Y.a,{className:"w-50",children:[Object(y.jsx)(Y.a.Header,{className:"text-center cardHeader",children:Object(y.jsx)("h3",{children:"Sign Up For Free"})}),Object(y.jsx)(Y.a.Body,{children:Object(y.jsxs)(V.a,{children:[Object(y.jsxs)(V.a.Group,{controlId:"formBasicName",size:"sm",children:[Object(y.jsx)("p",{children:"* indicates a required field"}),Object(y.jsx)(V.a.Label,{children:"Name*"}),Object(y.jsx)(V.a.Control,{type:"name",placeholder:"First and Last name",name:"name",value:O.value,onChange:f,required:!0})]}),Object(y.jsxs)(V.a.Group,{controlId:"formBasicEmail",children:[Object(y.jsx)(V.a.Label,{children:"Email Address*"}),Object(y.jsx)(V.a.Control,{type:"email",placeholder:"Email address",name:"email",value:O.value,onChange:f,required:!0})]}),Object(y.jsx)("span",{className:"errors",children:O.errors.email}),Object(y.jsxs)(V.a.Group,{controlId:"formBasicDOB",children:[Object(y.jsx)(V.a.Label,{children:"Date of Birth*"}),Object(y.jsx)(V.a.Control,{type:"date",placeholder:"yyyy-dd-mm",name:"dob",value:O.value,onChange:f,required:!0})]}),Object(y.jsx)("span",{className:"errors",children:O.errors.dob}),Object(y.jsxs)(V.a.Row,{children:[Object(y.jsx)(W.a,{children:Object(y.jsxs)(V.a.Group,{controlId:"formBasicPassword",children:[Object(y.jsx)(V.a.Label,{children:"Password*"}),Object(y.jsx)(V.a.Control,{type:"password",placeholder:"Password",name:"password",value:O.value,onChange:f,required:!0})]})}),Object(y.jsxs)(W.a,{children:[Object(y.jsxs)(V.a.Group,{controlId:"formBasicConfirmPassword",children:[Object(y.jsx)(V.a.Label,{children:"Confirm Password*"}),Object(y.jsx)(V.a.Control,{type:"password",placeholder:"Confirm Password",name:"confirmPassword",value:O.value,onChange:f,required:!0})]}),Object(y.jsx)("span",{className:"errors",children:O.errors.confirmPassword})]})]}),Object(y.jsx)(V.a.Group,{controlId:"formBasicPrivCheck",children:Object(y.jsxs)("span",{className:"formatLine",children:[Object(y.jsx)(V.a.Check,{type:"checkbox",label:"Private Account",onChange:function(){l(!o)}}),Object(y.jsx)("i",{id:"privateinfo",title:"A private account ensures that only your friends are able to access your account and gifts.",className:"fas fa-info-circle"})]})}),Object(y.jsx)("span",{className:"errors",children:O.errors.terms}),Object(y.jsx)(V.a.Group,{controlId:"formBasicTermCheck",children:Object(y.jsxs)("span",{className:"formatLine",children:[Object(y.jsx)(V.a.Check,{type:"checkbox",onChange:function(){O.errors.terms=a?"Please confirm terms and conditions have been read":"",n(!a)}}),Object(y.jsx)("a",{href:"/terms",children:"Terms And Conditions*"})," "]})}),Object(y.jsx)(p.a,{variant:"primary",type:"submit",disabled:!v(),onClick:g,children:"Sign up"}),Object(y.jsxs)("p",{className:"mt-3",children:[" Already a member? ",Object(y.jsx)("a",{href:"/login",children:"Log in"})]})]})}),Object(y.jsx)(K.a,{variant:"flush",className:"py-3",children:Object(y.jsx)(K.a.Item,{className:"d-flex justify-content-center",children:Object(y.jsx)($,{})})})]})})]})},X=(a(106),a(37),a(255)),J=a(41);var Q=function(e){Object(c.useContext)(x).user;var t=Object(c.useState)(!1),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)({name:"",email:""}),l=Object(i.a)(s,2),d=(l[0],l[1],Object(c.useState)({amount:"",error:""})),j=Object(i.a)(d,2),b=j[0],u=j[1],h=Object(c.useState)(),O=Object(i.a)(h,2),f=O[0];return O[1],Object(c.useEffect)((function(){}),[]),Object(y.jsxs)("div",{className:"gift-container",children:[Object(y.jsxs)(Y.a,{children:[Object(y.jsx)(o.b,{to:{pathname:"/gifts/".concat(e.gift.id)},children:Object(y.jsx)("div",{className:"gift-thumbnail-container",children:Object(y.jsx)(Y.a.Img,{className:"gift-thumbnail",variant:"top",src:e.gift.thumbnail})})}),Object(y.jsxs)(Y.a.Body,{className:"gift-card-body",children:[Object(y.jsx)(Y.a.Title,{className:"giftSM-title",children:Object(y.jsx)(o.b,{className:"black-link",to:"/gifts/".concat(e.gift.id),children:e.gift.name})}),Object(y.jsxs)(Y.a.Text,{className:"giftSM-desc",children:[Object(y.jsxs)("span",{className:"gift-sm-funds",children:["$",e.gift.progress]}),Object(y.jsx)("br",{}),Object(y.jsxs)("span",{className:"gift-sm-price",children:["of $",e.gift.price," funded"]}),Object(y.jsx)(X.a,{striped:"true",animated:"true",className:"gift-sm-progressbar",now:e.gift.progress/e.gift.price*100}),Object(y.jsx)("br",{}),Object(y.jsxs)("div",{children:["Receiving: ",Object(y.jsx)(o.b,{className:"black-link",to:"/account/".concat(e.gift.receiverId),children:e.gift.receiverName})]})]})]}),Object(y.jsx)(Y.a.Footer,{children:Object(y.jsx)(p.a,{onClick:function(){r(!0)},id:"CardFooterButton",block:!0,children:"Contribute"})})]}),Object(y.jsxs)(g.a,{show:n,onHide:function(){return r(!1)},children:[Object(y.jsx)(g.a.Header,{closeButton:!0,children:Object(y.jsx)(g.a.Title,{children:Object(y.jsx)(o.b,{className:"black-link",to:"/gifts/".concat(e.gift.id),children:e.gift.name})})}),Object(y.jsx)(g.a.Body,{children:Object(y.jsxs)("div",{className:"modal-body",children:[Object(y.jsx)("div",{className:"modal-gift-thumbnail-container",children:Object(y.jsx)("img",{className:"modal-gift-thumbnail",src:e.gift.thumbnail,alt:""})}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{htmlFor:"amount",children:"Contribution Amount"}),Object(y.jsx)("br",{}),Object(y.jsxs)(v.a,{children:[Object(y.jsx)(v.a.Prepend,{children:Object(y.jsx)(v.a.Text,{children:"$"})}),Object(y.jsx)(N.a,{onChange:function(e){u((function(e){return Object(m.a)(Object(m.a)({},e),{},{error:""})})),u((function(t){return Object(m.a)(Object(m.a)({},t),{},{amount:e.target.value})}))},id:"amount"})]}),Object(y.jsx)("div",{className:""!==b.error?"form-error-message":"hidden",children:b.error}),Object(y.jsx)("br",{}),Object(y.jsx)(p.a,{onClick:function(t){t.preventDefault();var a=/^\d+(.\d{1,2})?$/.test(b.amount);parseInt(f);if(100,""===b.amount)u((function(e){return Object(m.a)(Object(m.a)({},e),{},{error:"Must enter a contribution amount"})}));else if(a)localStorage.getItem("email"),e.gift.giftID,b.amount;else u((function(e){return Object(m.a)(Object(m.a)({},e),{},{error:"Must enter a valid price"})}))},block:!0,children:"Contribute"})]})]})})]})]})},ee=a(88),te=a.n(ee),ae=(a(133),a.p+"static/media/well.21920098.png");a(134).config();var ce=function(e){var t=Object(c.useContext)(x),a=t.user,n=t.setUser,r=Object(c.useState)({isLoggedIn:!1,isLoading:!0,giftData:[],gifts:[],giftID:null,modalIsOpen:!1,amount:0}),s=Object(i.a)(r,2),o=s[0],l=s[1];return Object(c.useEffect)((function(){a||L.reAuthenticate().then((function(e){console.log("User has been re-authenticated"),n(e.user)})).catch((function(e){console.log("Issue authenticating",e)})),z.find().then((function(e){var t=e.data;l((function(e){return Object(m.a)(Object(m.a)({},e),{},{giftData:t})}))})).catch((function(e){console.log(e)}))}),[a,n]),Object(y.jsxs)("div",{children:[Object(y.jsx)(U,{}),Object(y.jsx)("div",{className:"content-container",children:Object(y.jsxs)("div",{className:"home-about-container",children:[Object(y.jsx)("div",{className:"giftly-info-container",children:Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{className:"section-title",children:"Give Them the Right Gift."}),Object(y.jsx)("p",{className:"section-description",children:"Easily create a gift for you or a loved one"}),Object(y.jsx)(w,{})]})}),Object(y.jsx)("div",{className:"home-image",children:Object(y.jsx)("img",{className:"home-image",src:ae,alt:"WishWell"})})]})}),Object(y.jsx)("div",{className:"grey-background",children:Object(y.jsxs)("div",{className:"content-container",children:[Object(y.jsx)("p",{className:"section-title",children:"Popular Gifts"}),Object(y.jsx)("div",{className:"pop-gift-container",children:Object(y.jsx)(te.a,{responsive:{largeDesktop:{breakpoint:{max:5e3,min:2400},items:4,slidesToSlide:4},desktop:{breakpoint:{max:2400,min:1024},items:3,slidesToSlide:3},tablet:{breakpoint:{max:1024,min:464},items:2,slidesToSlide:2},mobile:{breakpoint:{max:464,min:0},items:1,slidesToSlide:1}},renderButtonGroupOutside:!0,swipeable:!1,draggable:!1,showDots:!0,ssr:!0,infinite:!1,containerClass:"pop-gift-container",children:o.giftData.map((function(e,t){return Object(y.jsx)(Q,{gift:e},t)}))})})]})})]})};var ne=function(){var e=x.authTokens,t=x.setAuthTokens,a=Object(c.useState)({email:"",password:"",loginDevice:"COMPUTER",isLoggedIn:!1}),n=Object(i.a)(a,2);return n[0],n[1],Object(c.useEffect)((function(){console.log("cake");var a={login:"yangda@msoe.edu",password:"123456",loginDevice:"COMPUTER"};O.a.post("http://localhost:3001/login",a).then((function(c){console.log(c),c.data.success&&(localStorage.setItem("email",a.email),localStorage.setItem("loginDevice",a.loginDevice),t(c.data.token));var n={login:localStorage.getItem("email")};O.a.post("http://localhost:3001/getTopGifts",n,{headers:{authorization:"BEARER "+e}}).then((function(e){console.log("0: everything"),console.log(e.data)}));var r={login:localStorage.getItem("email"),receivingName:"Da"};O.a.post("http://localhost:3001/getTopGifts",r,{headers:{authorization:"BEARER "+e}}).then((function(e){console.log("1: receivingName"),console.log(e.data)}));var s={login:localStorage.getItem("email"),maxPrice:"10000"};O.a.post("http://localhost:3001/getTopGifts",s,{headers:{authorization:"BEARER "+e}}).then((function(e){console.log("2: maxPrice"),console.log(e.data)}));var i={login:localStorage.getItem("email"),minPrice:"10000"};O.a.post("http://localhost:3001/getTopGifts",i,{headers:{authorization:"BEARER "+e}}).then((function(e){console.log("3: minPrice"),console.log(e.data)}));var o={login:localStorage.getItem("email"),name:"birthday"};O.a.post("http://localhost:3001/getTopGifts",o,{headers:{authorization:"BEARER "+e}}).then((function(e){console.log("4: name"),console.log(e.data)}));var l={login:localStorage.getItem("email"),remainingFunds:"5000"};O.a.post("http://localhost:3001/getTopGifts",l,{headers:{authorization:"BEARER "+e}}).then((function(e){console.log("5: remainingFunds"),console.log(e.data)}));var d={login:localStorage.getItem("email"),description:"wed"};O.a.post("http://localhost:3001/getTopGifts",d,{headers:{authorization:"BEARER "+e}}).then((function(e){console.log("6: description"),console.log(e.data)}));var j={login:localStorage.getItem("email"),minDate:"2021-01-01 00:00:00"};O.a.post("http://localhost:3001/getTopGifts",j,{headers:{authorization:"BEARER "+e}}).then((function(e){console.log("7: minDate"),console.log(e.data)}));var b={login:localStorage.getItem("email"),maxDate:"2021-01-01 00:00:00"};O.a.post("http://localhost:3001/getTopGifts",b,{headers:{authorization:"BEARER "+e}}).then((function(e){console.log("8: maxDate"),console.log(e.data)}));var u={login:localStorage.getItem("email"),link:"PlayStation"};O.a.post("http://localhost:3001/getTopGifts",u,{headers:{authorization:"BEARER "+e}}).then((function(e){console.log("9: link"),console.log(e.data)}));var m={login:localStorage.getItem("email"),minPrice:"9000",maxPrice:"40000",receivingName:"Da"};O.a.post("http://localhost:3001/getTopGifts",m,{headers:{authorization:"BEARER "+e}}).then((function(e){console.log("10: minPrice, maxPrice, receivingName"),console.log(e.data)}))})).catch((function(e){console.log(e)}))}),[]),Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"Popular Gifts"}),Object(y.jsx)("div",{id:"debug"})]})};var re=function(){var e=Object(c.useContext)(x).setUser,t=Object(c.useState)({email:"",password:""}),a=Object(i.a)(t,2),n=a[0],r=a[1],s=function(e){var t=e.target,a=t.name,c=t.value;r((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(u.a)({},a,c))}))},l=function(){var t=Object(b.a)(j.a.mark((function t(a){var c,r,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),c={strategy:"local",email:n.email,password:n.password},t.prev=2,t.next=5,L.authenticate(c);case 5:r=t.sent,s=r.user,e(s),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"textFont",children:[Object(y.jsx)(U,{}),Object(y.jsx)(_.a,{className:"my-3 d-flex justify-content-center",children:Object(y.jsxs)(Y.a,{className:"w-50",children:[Object(y.jsx)(Y.a.Header,{className:"text-center cardHeader",children:Object(y.jsx)("h3",{children:"Log in"})}),Object(y.jsxs)(Y.a.Body,{children:[Object(y.jsxs)(V.a,{children:[Object(y.jsxs)(V.a.Group,{controlId:"formBasicEmail",children:[Object(y.jsx)(V.a.Label,{children:"Email address"}),Object(y.jsx)(V.a.Control,{type:"email",placeholder:"Enter email",name:"email",value:n.value,onChange:s,required:!0})]}),Object(y.jsxs)(V.a.Group,{controlId:"formBasicPassword",children:[Object(y.jsx)(V.a.Label,{children:"Password"}),Object(y.jsx)(V.a.Control,{type:"password",placeholder:"Enter password",name:"password",value:n.value,onChange:s,required:!0})]})]}),Object(y.jsx)(p.a,{variant:"primary",type:"submit",onClick:l,children:Object(y.jsx)(o.b,{style:{color:"white",textDecoration:"none"},to:"/",children:"Log in"})}),Object(y.jsxs)("div",{style:{display:"flex",justifyContent:"left",alignItems:"center",gap:"1ch"},children:[Object(y.jsx)("p",{className:"mt-3",children:" Not a member? "}),Object(y.jsx)(o.b,{to:"/signup",children:"Sign up"})]})]})]})})]})},se=a(149),ie=["component"];var oe=function(e){var t=e.component,a=Object(se.a)(e,ie),n=Object(c.useContext)(x).user;return Object(y.jsx)(l.b,Object(m.a)(Object(m.a)({},a),{},{render:function(e){return n?Object(y.jsx)(t,Object(m.a)({},e)):Object(y.jsx)(l.a,{to:"/"})}}))},le=(a(135),a(256)),de=a(145),je=a(146),be=a(150),ue=a(147),me=(a(232),function(e){Object(be.a)(a,e);var t=Object(ue.a)(a);function a(e){return Object(de.a)(this,a),t.call(this,e)}return Object(je.a)(a,[{key:"render",value:function(){var e=this.props.data.pic,t=this.props.data.name,a=this.props.data.id;return Object(y.jsx)(o.b,{to:"/account/".concat(a),children:Object(y.jsxs)(Y.a,{style:{alignItems:"center",margin:0,height:"100px",marginRight:"10px"},className:"border-0",children:[Object(y.jsx)(Y.a.Title,{className:"friends-name-link",children:t}),Object(y.jsx)(Y.a.Img,{style:{borderRadius:"50%",width:"60px",height:"60px",border:"1px solid lightgray",flexGrow:"1"},className:"friendPic",src:e}),Object(y.jsx)(Y.a.Body,{})]})})}}]),a}(n.a.Component)),he=a(257),Oe=a(263),xe=a(265),fe=a(28);a(73);var pe=function(e){var t=Object(c.useContext)(x).user,a=Object(c.useState)(!1),n=Object(i.a)(a,2),r=n[0],s=n[1],l=Object(c.useState)(!1),d=Object(i.a)(l,2),j=d[0],b=d[1],h=Object(c.useState)(!1),O=Object(i.a)(h,2),f=O[0],C=O[1],k=function(){return C(!1)},w=Object(c.useState)({eventID:0}),E=Object(i.a)(w,2),D=E[0],B=E[1];return Object(y.jsxs)(_.a,{className:"gift-pro-container",children:[Object(y.jsxs)(le.a,{children:[Object(y.jsx)(W.a,{className:"gift-pro-icon-container",md:6,children:Object(y.jsx)(o.b,{to:{pathname:"/gifts/".concat(e.gift.id)},children:Object(y.jsx)(he.a,{id:"gift-icon",src:e.gift.thumbnail,alt:""})})}),Object(y.jsxs)(W.a,{md:6,className:"gift-info",children:[Object(y.jsx)(le.a,{children:Object(y.jsx)("h3",{children:Object(y.jsx)(o.b,{className:"black-link",to:"/gifts/".concat(e.gift.id),children:e.gift.name})})}),Object(y.jsx)(le.a,{children:Object(y.jsxs)("p",{children:[" Description: ",e.gift.description]})}),Object(y.jsx)(le.a,{children:Object(y.jsxs)(W.a,{className:"p-0",children:[Object(y.jsxs)("p",{children:["Price: $",e.gift.price]}),Object(y.jsxs)("p",{children:["Progress: $",e.gift.progress," / $",e.gift.price]})]})}),Object(y.jsxs)(le.a,{children:[Object(y.jsx)(p.a,{name:"contributeButton",value:e.gift.id,onClick:function(){return s(!0)},className:"w-50",children:"Contribute"}),Object(y.jsx)(p.a,{name:"addGiftToEventButton",value:e.gift.id,onClick:function(){return C(!0)},className:"w-50",children:"Add To Event"})]}),e.gift.userId===t.id?Object(y.jsx)(Oe.a,{trigger:"click",placement:"left",show:j,onToggle:function(){b(!0)},overlay:Object(y.jsxs)(xe.a,{id:"popover-positioned-left",children:[Object(y.jsx)(xe.a.Title,{as:"h3",children:"Are you sure?"}),Object(y.jsxs)(xe.a.Content,{children:[Object(y.jsx)("button",{className:"mr-3 btn btn-danger",onClick:function(){b(!1)},children:"Cancel"}),Object(y.jsx)("button",{className:"btn btn-secondary",onClick:function(){e.gift.giftID;z.remove(e.gift.id),Object(fe.b)("This gift has been removed from your Wish List."),console.log("gift has been removed"),b(!1)},children:Object(y.jsx)(o.b,{style:{color:"inherit",textDecoration:"none"},to:"/account/".concat(t.id),children:"OK"})})]})]}),children:Object(y.jsx)(I.a,{className:"delete-gift",icon:S.f})},e.gift.id):null]}),Object(y.jsx)(fe.a,{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!1})]}),Object(y.jsxs)(g.a,{show:r,onHide:function(){return s(!1)},children:[Object(y.jsx)(g.a.Header,{closeButton:!0,children:Object(y.jsx)(g.a.Title,{children:Object(y.jsx)("a",{className:"black-link",href:"/gifts/".concat(e.gift.id),children:e.gift.name})})}),Object(y.jsx)(g.a.Body,{children:Object(y.jsxs)("div",{className:"modal-body",children:[Object(y.jsx)("div",{className:"modal-gift-thumbnail-container",children:Object(y.jsx)("img",{className:"modal-gift-thumbnail",src:e.gift.thumbnail,alt:""})}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{htmlFor:"amount",children:"Contribution Amount"}),Object(y.jsx)("br",{}),Object(y.jsxs)(v.a,{children:[Object(y.jsx)(v.a.Prepend,{children:Object(y.jsx)(v.a.Text,{children:"$"})}),Object(y.jsx)(N.a,{id:"amount"})]}),Object(y.jsx)("br",{}),Object(y.jsx)(p.a,{id:"contributeButton",block:!0,children:"Contribute"})]})]})})]}),Object(y.jsx)(g.a,{show:f,onHide:k,children:Object(y.jsx)(g.a.Body,{children:Object(y.jsx)("div",{className:"modal-body",children:Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Event ID"}),Object(y.jsx)("br",{}),Object(y.jsxs)(v.a,{children:[Object(y.jsx)(v.a.Prepend,{children:Object(y.jsx)(v.a.Text,{children:"Event ID:"})}),Object(y.jsx)(V.a.Control,{type:"eventID",placeholder:"Event ID",name:"eventID",value:D.eventID,onChange:function(e){var t=e.target,a=t.name,c=t.value;B((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(u.a)({},a,c))}))},required:!0})]}),Object(y.jsx)("br",{}),Object(y.jsx)(p.a,{id:"submitButton",onClick:function(){z.patch(e.gift.id,{eventId:D.eventID}).then(k).catch((function(e){console.log("did not add gift to event"),console.log(e)}))},children:"Submit"})]})})})})]})};var ge=function(e){Object(c.useContext)(x).user;var t=Object(c.useState)(!1),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(l.i)(),d=Object(c.useState)({name:"",dob:"",pic:"",bio:"",friend:!1,requested:!1,priv:!1}),u=Object(i.a)(d,2),h=u[0],O=u[1],f=Object(c.useState)([]),v=Object(i.a)(f,2),N=v[0],C=v[1],k=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.get(s.id).then((function(e){O((function(t){return Object(m.a)(Object(m.a)({},t),{},{name:e.name,bio:e.bio,dob:e.bio,pic:e.pic})}))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var t=Object(b.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.find({query:{eventId:{$eq:e.event.id}}});case 3:a=t.sent,C(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){k().then((function(){h.priv||w()}))}),[]),Object(y.jsxs)("div",{className:"event-container",children:[Object(y.jsxs)(Y.a,{children:[Object(y.jsx)(o.b,{to:{pathname:"/all-events/".concat(e.event.id)}}),Object(y.jsx)(Y.a.Header,{className:"cardHeader",children:Object(y.jsx)(o.b,{className:"black-link",to:"/all-events/".concat(e.event.id),children:e.event.name})}),Object(y.jsxs)(Y.a.Body,{className:"event-card-body",children:[Object(y.jsx)(Y.a.Text,{className:"eventSM-privacy",children:Object(y.jsxs)("span",{children:["Privacy: ",e.event.privacy]})}),Object(y.jsx)(Y.a.Text,{className:"eventSM-date",children:Object(y.jsxs)("span",{children:["Date: ",e.event.end_date]})})]}),Object(y.jsx)(Y.a.Footer,{children:Object(y.jsx)(p.a,{onClick:function(){r(!0)},id:"CardFooterButton",block:!0,children:"View Gifts"})})]}),Object(y.jsxs)(g.a,{show:n,onHide:function(){return r(!1)},children:[Object(y.jsx)(g.a.Header,{closeButton:!0,children:Object(y.jsx)(g.a.Title,{children:Object(y.jsx)(o.b,{className:"black-link",to:"/all-events/".concat(e.event.id),children:e.event.name})})}),Object(y.jsx)(g.a.Body,{children:Object(y.jsx)("div",{className:"modal-body",children:Object(y.jsx)("div",{children:0===N.length?Object(y.jsx)(Y.a.Body,{className:"giftDiv cardBody",style:{color:"grey"},children:"There are no gifts to show!"}):Object(y.jsx)(Y.a.Body,{id:"giftDiv cardBody",children:N.map((function(e,t){return Object(y.jsx)(_.a,{className:"mb-3 border",children:Object(y.jsx)(Q,{gift:e,email:h.email},t)})}))})})})})]})]})};var ve=Object(l.j)((function(){var e=Object(c.useContext)(x).user,t=Object(l.i)(),a=Object(c.useState)({name:"",dob:"",pic:"",bio:"",friend:!1,requested:!1,priv:!1}),n=Object(i.a)(a,2),r=n[0],s=n[1],o=Object(c.useState)([]),d=Object(i.a)(o,2),u=d[0],h=(d[1],Object(c.useState)([])),O=Object(i.a)(h,2),f=O[0],g=O[1],v=Object(c.useState)([]),N=Object(i.a)(v,2),C=N[0],k=N[1],E=Object(c.useState)([]),S=Object(i.a)(E,2),I=S[0],D=S[1],B=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.get(t.id).then((function(e){s((function(t){return Object(m.a)(Object(m.a)({},t),{},{name:e.name,bio:e.bio,dob:e.bio,pic:e.pic})}))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(b.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.find({query:{userId:{$eq:t.id}}});case 3:a=e.sent,g(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(b.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.find({query:{userId:{$eq:t.id}}});case 3:a=e.sent,k(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(b.a)(j.a.mark((function e(){var a,c,n,r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.find({query:{userId:t.id,type:"friends"}});case 3:a=e.sent,c=[],e.t0=j.a.keys(a.data);case 6:if((e.t1=e.t0()).done){e.next=15;break}return n=e.t1.value,r=a.data[n].otherUserId,e.next=11,R.get(r);case 11:s=e.sent,c.push(s),e.next=6;break;case 15:D(c),e.next=21;break;case 18:e.prev=18,e.t2=e.catch(0),console.error(e.t2);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var a=Object(b.a)(j.a.mark((function a(){var c,n;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={userId:e.id,otherUserId:-1,type:"friend-request"},a.prev=1,a.next=4,R.get(t.id);case 4:return n=a.sent,c.otherUserId=n.id,a.next=8,H.create(c);case 8:a.sent,s((function(e){return Object(m.a)(Object(m.a)({},e),{},{requested:!0})})),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(1),console.log(a.t0);case 15:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(){return a.apply(this,arguments)}}();Object(c.useEffect)((function(){B().then((function(){r.priv||(T(),G(),A(),P())}))}),[t.id]);var L={largeDesktop:{breakpoint:{max:5e3,min:2400},items:4,slidesToSlide:4},desktop:{breakpoint:{max:2400,min:1024},items:3,slidesToSlide:3},tablet:{breakpoint:{max:1024,min:464},items:2,slidesToSlide:2},mobile:{breakpoint:{max:464,min:0},items:1,slidesToSlide:1}};return Object(y.jsxs)("div",{id:"accountBody",children:[Object(y.jsx)(U,{}),Object(y.jsxs)(_.a,{className:"my-3",children:[Object(y.jsxs)(le.a,{className:"mt-3 d-flex justify-content-center",children:[Object(y.jsx)(W.a,{md:4,className:"d-flex justify-content-end",children:Object(y.jsx)("img",{src:r.pic,alt:"Profile Picture",id:"profilePicture"})}),Object(y.jsxs)(W.a,{md:4,className:"pt-5",id:"bio",children:[Object(y.jsx)("h2",{children:r.name}),Object(y.jsx)("p",{children:r.bio}),t.id===""+e.id?Object(y.jsx)(w,{}):r.requested?Object(y.jsx)(p.a,{style:{background:"grey",border:"grey"},disabled:!0,children:"Friend Request Sent"}):r.friend||t.id===e.id?void 0:Object(y.jsx)(p.a,{onClick:F,children:"Add Friend"})]})]}),r.priv?Object(y.jsx)(le.a,{children:Object(y.jsx)(W.a,{className:"d-flex justify-content-center",children:Object(y.jsx)(Y.a,{style:{width:"100%"},children:Object(y.jsx)(Y.a.Header,{className:"cardHeader d-flex justify-content-center",children:"This account is private!"})})})}):Object(y.jsxs)(le.a,{className:"mt-3",children:[Object(y.jsx)(W.a,{md:4,children:Object(y.jsxs)(Y.a,{className:"card",children:[Object(y.jsx)(Y.a.Header,{className:"cardHeader",children:"Activity"}),0===u.length?Object(y.jsx)(Y.a.Body,{className:"cardBody",style:{color:"grey"},children:"There is no activity to show!"}):Object(y.jsx)(Y.a.Body,{className:"cardBody",children:u.map((function(e,t){return"CONTRIBUTE"===e.type?Object(y.jsxs)("p",{children:[r.name," contributed to ",Object(y.jsxs)("a",{className:"activity-link",href:"/gifts/"+e.ID,children:[e.otherName,"'s gift"]})," ",Object(y.jsxs)("p",{style:{color:"gray"},children:['- "',e.giftName,'"']})]},t):"POST_GIFT"===e.type?Object(y.jsxs)("p",{children:[r.name," has posted a ",Object(y.jsx)("a",{className:"activity-link",href:"/gifts/"+e.ID,children:"new gift!"})," ",Object(y.jsxs)("p",{style:{color:"gray"},children:['- "',e.giftName,'"']})]},t):"COMMENT"===e.type?Object(y.jsxs)("p",{children:[r.name," has commented on ",Object(y.jsxs)("a",{className:"activity-link",href:"/gifts/"+e.ID,children:[e.otherName,"'s gift!"]}),"  ",Object(y.jsxs)("p",{style:{color:"gray"},children:['- "',e.val,'"']})]},t):"ADD_FRIEND"===e.type?Object(y.jsxs)("p",{children:[" ",r.name," is now friends with ",Object(y.jsx)("a",{className:"activity-link",href:"/account/"+e.otherEmail,children:e.otherName})]},t):void 0}))})]})}),Object(y.jsxs)(W.a,{md:8,children:[Object(y.jsxs)(Y.a,{className:"card",children:[Object(y.jsx)(Y.a.Header,{className:"cardHeader",children:"Friends List"}),0===I.length?Object(y.jsx)(Y.a.Body,{className:"cardBody",style:{color:"grey"},children:"Be their first friend!! Press the Add Friend button above!"}):Object(y.jsx)(Y.a.Body,{id:"FriendDisDiv",className:"cardBody",children:Object(y.jsx)(_.a,{id:"friends",children:I.map((function(e,t){return Object(y.jsx)(me,{class:"snippet",data:e})}))})})]}),Object(y.jsxs)(Y.a,{className:"mt-3 card",children:[Object(y.jsx)(Y.a.Header,{className:"cardHeader",children:"Upcoming Events"}),0===C.length?Object(y.jsx)(Y.a.Body,{className:"eventDiv cardBody",style:{color:"grey"},children:"There are no all-events to show!"}):Object(y.jsx)(Y.a.Body,{id:"eventDiv cardBody",children:Object(y.jsx)(te.a,{responsive:L,renderButtonGroupOutside:!0,swipeable:!1,draggable:!1,showDots:!0,ssr:!0,infinite:!1,containerClass:"pop-gift-container",children:C.map((function(e,t){return Object(y.jsx)(_.a,{className:"mb-3 border",children:Object(y.jsx)(ge,{event:e},t)})}))})})]}),Object(y.jsxs)(Y.a,{className:"mt-3 card",children:[Object(y.jsx)(Y.a.Header,{className:"cardHeader",children:"Wish List"}),0===f.length?Object(y.jsx)(Y.a.Body,{className:"giftDiv cardBody",style:{color:"grey"},children:"There are no gifts to show!"}):Object(y.jsx)(Y.a.Body,{id:"giftDiv cardBody",children:f.map((function(e,t){return Object(y.jsx)(_.a,{className:"mb-3 border",children:Object(y.jsx)(pe,{gift:e,email:r.email},t)})}))})]})]})]})]})]})}));var Ne=Object(l.j)((function(){return Object(y.jsx)(ve,{})}));var ye=function(e){var t=Object(c.useState)(""),a=Object(i.a)(t,2),n=a[0],r=a[1];Object(c.useEffect)((function(){r(s(new Date(e.data.date)))}),[]);var s=function(e){var t=Math.floor((new Date-e)/1e3),a=t/31536e3;if(a>1){var c=Math.floor(a);return 1===c?c+" year ago":c+" years ago"}if((a=t/2592e3)>1){var n=Math.floor(a);return 1===n?n+" month ago":n+" months ago"}if((a=t/86400)>1){var r=Math.floor(a);return 1===r?r+" day ago":r+" days ago"}if((a=t/3600)>1){var s=Math.floor(a);return 1===s?s+" hour ago":s+" hours ago"}if((a=t/60)>1){var i=Math.floor(a);return 1===i?i+" minute ago":i+" minutes ago"}return 1===t?Math.floor(t)+" second ago":Math.floor(t)+" seconds ago"};return Object(y.jsxs)("div",{className:"comment-container",children:[Object(y.jsx)("div",{className:"comment-icon-container",children:Object(y.jsx)(he.a,{className:"comment-icon",src:e.data.pic,rounded:!0})}),Object(y.jsxs)("div",{style:{width:"100%"},children:[Object(y.jsxs)("div",{className:"comment-header",children:[Object(y.jsx)("div",{children:Object(y.jsx)("span",{children:Object(y.jsx)("a",{href:"/account/"+e.data.email,className:"comment-user black-link",children:e.data.name})})}),Object(y.jsx)("div",{className:"comment-date",children:Object(y.jsx)("span",{children:n})})]}),Object(y.jsx)("p",{className:"comment",children:e.data.comment})]})]})};var Ce=function(e){var t=Object(c.useContext)(x).user,a=Object(l.i)(),n=Object(c.useState)({}),r=Object(i.a)(n,2),s=r[0],d=r[1],j=Object(c.useState)(""),b=Object(i.a)(j,2),u=b[0],h=(b[1],Object(c.useState)({pic:""})),f=Object(i.a)(h,2),g=f[0],C=f[1],k=Object(c.useState)({pic:""}),w=Object(i.a)(k,2),E=w[0],S=w[1],I=Object(c.useState)({pic:""}),D=Object(i.a)(I,2),B=D[0],P=D[1],T=Object(c.useState)([]),G=Object(i.a)(T,2),A=G[0],F=(G[1],Object(c.useState)({amount:"",error:""})),L=Object(i.a)(F,2),M=L[0],H=L[1],U=Object(c.useState)({comment:"",error:""}),q=Object(i.a)(U,2),$=q[0],_=q[1];Object(c.useEffect)((function(){C(t),z.get(a.id).then((function(e){d(e),R.get(e.userId).then((function(t){S(t),R.get(e.receiverId).then((function(e){P(e)}))}))})).catch((function(e){console.log(e)}))}),[]);var W=function(){return""!==M.error},K=function(){return""!==$.error};Number.prototype.padLeft=function(e,t){var a=String(e||10).length-String(this).length+1;return a>0?new Array(a).join(t||"0")+this:this};var Z=function(){var e=new Date;return[e.getFullYear(),(e.getMonth()+1).padLeft(),e.getDate().padLeft()].join("-")+" "+[e.getHours().padLeft(),e.getMinutes().padLeft(),e.getSeconds().padLeft()].join(":")};return Object(y.jsxs)("div",{className:"content-container",children:[Object(y.jsxs)("div",{className:"grid-container",children:[Object(y.jsxs)("div",{className:"grid-gift-image",children:[Object(y.jsx)("div",{className:"giftLG-thumbnail-container",children:Object(y.jsx)("img",{className:"giftLG-thumbnail",src:s.thumbnail,alt:"pic"})}),Object(y.jsx)("div",{className:"gift-alt-images-container"})]}),Object(y.jsxs)("div",{className:"grid-gift-info",children:[Object(y.jsxs)("h2",{className:"gift-title",children:[" ",s.name]}),Object(y.jsxs)("span",{className:"gift-lg-funds",children:["$",s.progress]}),Object(y.jsx)("br",{}),Object(y.jsxs)("span",{className:"gift-lg-price",children:["of $",s.price," funded"]}),Object(y.jsx)(X.a,{animated:!0,now:s.progress/s.price*100}),Object(y.jsx)("br",{}),Object(y.jsx)("label",{htmlFor:"amount",children:"Contribution Amount"}),Object(y.jsx)("br",{}),Object(y.jsxs)(v.a,{children:[Object(y.jsx)(v.a.Prepend,{children:Object(y.jsx)(v.a.Text,{children:"$"})}),Object(y.jsx)(N.a,{className:W()?"is-invalid":"",onChange:function(e){H((function(e){return Object(m.a)(Object(m.a)({},e),{},{error:""})})),H((function(t){return Object(m.a)(Object(m.a)({},t),{},{amount:e.target.value})}))},id:"amount"})]}),Object(y.jsx)("div",{className:W()?"form-error-message":"hidden",children:M.error}),Object(y.jsx)("br",{}),Object(y.jsx)(p.a,{onClick:function(e){e.preventDefault();var a=/^\d+(.\d{1,2})?$/.test(M.amount),c=parseInt(u);if(c/=100,""===M.amount)H((function(e){return Object(m.a)(Object(m.a)({},e),{},{error:"Must enter a contribution amount"})}));else if(a)if(M.amount>c)H((function(e){return Object(m.a)(Object(m.a)({},e),{},{error:"You don't have enough funds to make this contribution"})}));else{var n={login:localStorage.getItem("email"),giftID:s.giftID,amount:100*M.amount};O.a.post("http://localhost:3001/contribute",n,{headers:{authorization:"BEARER "+t}}).then((function(e){"ok"===e.data.status&&window.location.reload()})),J.init("user_bXzpwCFcBzHuUs0r4UZNn");var r={to_email:E.email,to_name:E.name,reply_to:"sdlgiftex@gmail.com",message:"Someone Contributed to your gift!!"};J.send("service_kp36gdn","template_z9zqdff",r,"user_bXzpwCFcBzHuUs0r4UZNn").then((function(e){console.log("SUCCESS!",e.status,e.text)}),(function(e){console.log("FAILED...",e)}))}else H((function(e){return Object(m.a)(Object(m.a)({},e),{},{error:"Must enter a valid price"})})),H((function(e){return Object(m.a)(Object(m.a)({},e),{},{error:"Must enter a valid price"})}))},size:"lg",block:!0,children:"Contribute"})]})]}),Object(y.jsxs)("div",{className:"grid-container-half",children:[Object(y.jsx)("div",{className:"grid-gift-for",children:Object(y.jsxs)(Y.a,{children:[Object(y.jsx)(Y.a.Header,{children:"Posted By"}),Object(y.jsx)(Y.a.Body,{children:Object(y.jsxs)("div",{className:"user-card",children:[Object(y.jsx)("div",{children:Object(y.jsx)(he.a,{src:E.profile_pic,rounded:!0})}),Object(y.jsx)(o.b,{className:"no-dec-link",to:"/account/".concat(E.id),children:Object(y.jsx)("div",{className:"card-email-container",children:E.name})})]})})]})}),Object(y.jsx)("div",{className:"grid-gift-from",children:Object(y.jsxs)(Y.a,{className:"card",children:[Object(y.jsx)(Y.a.Header,{children:"Receiver"}),Object(y.jsx)(Y.a.Body,{children:Object(y.jsxs)("div",{className:"user-card",children:[Object(y.jsx)("div",{children:Object(y.jsx)(he.a,{src:B.pic,rounded:!0})}),Object(y.jsx)(o.b,{className:"no-dec-link",to:"/account/".concat(B.id),children:Object(y.jsx)("div",{className:"card-email-container",children:B.name})})]})})]})}),Object(y.jsx)("div",{className:"grid-gift-description",children:Object(y.jsxs)(Y.a,{children:[Object(y.jsx)(Y.a.Header,{children:"Description"}),Object(y.jsx)(Y.a.Body,{children:Object(y.jsx)("div",{className:"user-card",children:s.description})})]})}),Object(y.jsx)("div",{className:"grid-gift-comments",children:Object(y.jsxs)(Y.a,{children:[Object(y.jsx)(Y.a.Header,{children:"Comments"}),Object(y.jsxs)(Y.a.Body,{children:[Object(y.jsxs)("div",{className:"create-comment-container",children:[Object(y.jsxs)("div",{className:"comment-and-icon",children:[Object(y.jsx)("div",{className:"comment-icon-container",children:Object(y.jsx)(he.a,{className:"comment-icon",src:g.pic,rounded:!0})}),Object(y.jsxs)("div",{className:"comment-text-container",children:[Object(y.jsx)(V.a.Group,{className:"comment-textarea",children:Object(y.jsx)(V.a.Control,{id:"comment-text",className:K()?"is-invalid":"",onChange:function(e){return function(e){_((function(t){return Object(m.a)(Object(m.a)({},t),{},{comment:e.target.value})})),_((function(e){return Object(m.a)(Object(m.a)({},e),{},{error:""})}))}(e)},placeholder:"Add a comment...",as:"textarea",rows:3})}),Object(y.jsx)("div",{id:"comment-error",className:K()?"form-error-message":"hidden",children:$.error})]})]}),Object(y.jsx)("div",{className:"create-comment-button",children:Object(y.jsx)(p.a,{size:"sm",onClick:function(e){return function(e){if(e.preventDefault(),""===$.comment)_((function(e){return Object(m.a)(Object(m.a)({},e),{},{error:"Invalid Comment"})}));else{var a={login:localStorage.getItem("email"),giftID:s.giftID,datetime:Z(),comment:$.comment};O.a.post("http://localhost:3001/addComment",a,{headers:{authorization:"BEARER "+t}}).then((function(e){var t={to_email:E.email,to_name:E.name,reply_to:"sdlgiftex@gmail.com",message:"Someone commented on your gift!!"};J.send("service_kp36gdn","template_z9zqdff",t,"user_bXzpwCFcBzHuUs0r4UZNn").then((function(e){console.log("SUCCESS!",e.status,e.text)}),(function(e){console.log("FAILED...",e)})),window.location.reload()}))}}(e)},children:"Add Comment"})})]}),Object(y.jsx)("div",{children:A.map((function(e){return Object(y.jsx)(ye,{data:e})}))})]})]})})]})]})};var ke=function(){var e=Object(l.i)().id;return Object(y.jsxs)("div",{children:[Object(y.jsx)(U,{}),Object(y.jsx)(Ce,{giftID:e})]})};a(233);var we=function(){var e=Object(c.useState)({giftName:"",receivingName:"",maxPrice:"",minPrice:"",remainingFunds:"",description:"",maxDate:"",minDate:"",link:"",sort:"",deadline:""}),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)([]),s=Object(i.a)(r,2),o=s[0],l=(s[1],function(e){var t=e.target,a=t.name,c=t.value;n((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(u.a)({},a,c))}))}),d=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t={},""!==a.giftName&&(t.name=a.giftName),""!==a.receivingName&&(t.receivingName=a.receivingName),""!==a.maxPrice&&(t.maxPrice=100*a.maxPrice),""!==a.minPrice&&(t.minPrice=100*a.minPrice),""!==a.maxDate&&(t.maxDate=a.maxDate),""!==a.minDate&&(t.minDate=a.minDate),""!==a.remainingFunds&&(t.remainingFunds=100*a.remainingFunds),""!==a.deadline&&(t.deadline=a.deadline),""!==a.description&&(t.description=a.description),""!==a.link&&(t.link=a.link),""!==a.sort&&(t.sort=a.sort)}catch(c){console.error(c)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){d()}),[]),Object(y.jsxs)("div",{id:"searchBody",children:[Object(y.jsx)(U,{}),Object(y.jsxs)(_.a,{className:"my-3 mb-2",children:[Object(y.jsxs)(le.a,{className:"ml-2",children:[Object(y.jsx)(N.a,{className:"searchFieldLarge",type:"text",name:"giftName",placeholder:"Gift Title...",onChange:l,value:a.value}),Object(y.jsx)(N.a,{className:"searchFieldLarge",type:"text",name:"receiverName",placeholder:"Gift receiver...",onChange:l,value:a.value}),Object(y.jsx)(N.a,{className:"searchFieldExtraLarge",type:"text",name:"description",placeholder:"Description contains...",onChange:l,value:a.value}),Object(y.jsx)(N.a,{className:"searchFieldExtraLarge",type:"text",name:"link",placeholder:"Gift product link...",onChange:l,value:a.value}),Object(y.jsxs)(v.a,{className:"mb-2 inputGroup",children:[Object(y.jsx)(v.a.Prepend,{children:Object(y.jsx)(v.a.Text,{children:"Min price"})}),Object(y.jsx)(N.a,{className:"searchFieldSmall",type:"text",name:"minPrice",placeholder:"...",onChange:l,value:a.value})]}),Object(y.jsxs)(v.a,{className:"mb-2 inputGroup",children:[Object(y.jsx)(v.a.Prepend,{children:Object(y.jsx)(v.a.Text,{children:"Max price"})}),Object(y.jsx)(N.a,{className:"searchFieldSmall",type:"text",name:"maxPrice",placeholder:"...",onChange:l,value:a.value})]}),Object(y.jsxs)(v.a,{className:"mb-2 inputGroup",children:[Object(y.jsx)(v.a.Prepend,{children:Object(y.jsx)(v.a.Text,{children:"Remaining funds"})}),Object(y.jsx)(N.a,{className:"searchFieldSmall",type:"text",name:"remainingFunds",placeholder:"...",onChange:l,value:a.value})]}),Object(y.jsxs)(v.a,{className:"mb-2 inputGroup",children:[Object(y.jsx)(v.a.Prepend,{children:Object(y.jsx)(v.a.Text,{children:"Min date"})}),Object(y.jsx)(N.a,{className:"searchFieldMedium",type:"text",name:"minDate",placeholder:"YYYY-MM-DD",onChange:l,value:a.value})]}),Object(y.jsxs)(v.a,{className:"mb-2 inputGroup",children:[Object(y.jsx)(v.a.Prepend,{children:Object(y.jsx)(v.a.Text,{children:"Max date"})}),Object(y.jsx)(N.a,{className:"searchFieldMedium",type:"text",name:"maxDate",placeholder:"YYYY-MM-DD",onChange:l,value:a.value})]}),Object(y.jsxs)(v.a,{className:"mb-2 inputGroup",children:[Object(y.jsx)(v.a.Prepend,{children:Object(y.jsx)(v.a.Text,{children:"Deadline"})}),Object(y.jsx)(N.a,{className:"searchFieldMedium",type:"text",name:"deadline",placeholder:"YYYY-MM-DD",onChange:l,value:a.value})]})]}),Object(y.jsx)(p.a,{className:"mt-2",onClick:function(){d()},variant:"warning",size:"sm",block:!0,children:"Search"})]}),Object(y.jsx)(Y.a,{children:0===o.length?Object(y.jsx)(_.a,{className:"text-center",style:{color:"grey"},children:"Search for a gift..."}):Object(y.jsx)(_.a,{className:"text-center",children:o.map((function(e,t){return Object(y.jsx)(Q,{gift:e},t)}))})})]})};function Ee(){var e=Object(l.h)().pathname;return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var Se=a(264),Ie=a(258);a(234);function De(){return Object(y.jsx)("div",{className:"loading"})}a(136),a(235);var Be=function(){var e=Object(c.useContext)(x).user,t=Object(c.useState)({name:"",price:0,thumbnail:"",description:"",link:"",priv:0,deadline:"",amazonUrl:"",email:"",userId:e.id}),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)({nameError:"",descriptionError:"",priceError:"",linkError:"",thumbnailError:"",emailError:""}),o=Object(i.a)(s,2),l=o[0],d=o[1],h=Object(c.useState)(!1),O=Object(i.a)(h,2),f=O[0],g=O[1],C=Object(c.useState)(!1),k=Object(i.a)(C,2),w=k[0],E=k[1],S=function(){return""!==l.nameError},I=function(){return""!==l.descriptionError},D=function(){return""!==l.priceError},B=function(){return""!==l.emailError},P=function(){return""!==l.linkError},T=function(){return""!==l.thumbnailError},G=function(){r((function(e){return Object(m.a)(Object(m.a)({},e),{},{priv:n.priv?0:1})}))},A=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=/^(\d+)(\.\d{1,2})?$/.test(n.price),""!==n.name){e.next=7;break}d((function(e){return Object(m.a)(Object(m.a)({},e),{},{nameError:"Value cannot be empty"})})),e.next=45;break;case 7:if(""!==n.description){e.next=11;break}d((function(e){return Object(m.a)(Object(m.a)({},e),{},{descriptionError:"Value cannot be empty"})})),e.next=45;break;case 11:if(a){e.next=15;break}d((function(e){return Object(m.a)(Object(m.a)({},e),{},{priceError:"Must enter a valid price"})})),e.next=45;break;case 15:if(0!==n.price){e.next=19;break}d((function(e){return Object(m.a)(Object(m.a)({},e),{},{priceError:"Value cannot be empty"})})),e.next=45;break;case 19:if(""!==n.receiver){e.next=23;break}d((function(e){return Object(m.a)(Object(m.a)({},e),{},{emailError:"Value cannot be empty"})})),e.next=45;break;case 23:if(""!==n.link){e.next=27;break}d((function(e){return Object(m.a)(Object(m.a)({},e),{},{linkError:"Value cannot be empty"})})),e.next=45;break;case 27:if(""!==n.thumbnail){e.next=31;break}d((function(e){return Object(m.a)(Object(m.a)({},e),{},{thumbnailError:"Value cannot be empty"})})),e.next=45;break;case 31:return e.prev=31,e.next=34,R.find({query:{email:n.email}}).then().catch({});case 34:return c=e.sent,e.next=37,z.create(Object(m.a)(Object(m.a)({},n),{},{receiverId:c.data[0].id,receiverName:c.data[0].name}));case 37:e.sent,console.log("Gift for",c.data[0].name,"created!"),Object(fe.b)("Your gift has been added!"),e.next=45;break;case 42:e.prev=42,e.t0=e.catch(31),console.log(e.t0);case 45:case"end":return e.stop()}}),e,null,[[31,42]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.prev=1,e.next=4,L.service("amazon").get("",{query:{url:n.amazonUrl}});case 4:t=e.sent,r((function(e){return Object(m.a)(Object(m.a)({},e),{},{name:t.productTitle,thumbnail:t.image,price:t.price,description:t.productDescription,link:n.amazonUrl})})),E(!1),g(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),M=function(e){var t=e.target,a=t.name,c=t.value;r((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(u.a)({},a,c))})),d((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(u.a)({},a+"Error",""))}))},H=function(e){r((function(t){return Object(m.a)(Object(m.a)({},t),{},{price:Math.round(e.target.value)})})),d((function(e){return Object(m.a)(Object(m.a)({},e),{},{priceError:""})}))};return Object(y.jsxs)("div",{children:[Object(y.jsx)(U,{}),Object(y.jsxs)("div",{className:"content-container padding-container",children:[Object(y.jsx)("h1",{children:"Add a Gift"}),Object(y.jsxs)(Se.a,{fill:!0,className:"tabs",defaultActiveKey:"manual",children:[Object(y.jsx)(Ie.a,{eventKey:"manual",title:"Manual",children:Object(y.jsx)("div",{className:"add-gift-form-container grey-background",children:Object(y.jsxs)(V.a,{className:"gift-form",children:[Object(y.jsxs)(V.a.Group,{className:"form-group",children:[Object(y.jsx)(V.a.Label,{children:"Name"}),Object(y.jsx)(V.a.Control,{className:S()?"is-invalid":"",placeholder:"Enter a name for your gift",onChange:M,name:"name"}),Object(y.jsx)("div",{className:S()?"form-error-message":"hidden",children:l.nameError})]}),Object(y.jsxs)(V.a.Group,{className:"form-group",children:[Object(y.jsx)(V.a.Label,{children:"Description"}),Object(y.jsx)(V.a.Control,{className:I()?"is-invalid":"",placeholder:"Enter a description for your gift",as:"textarea",rows:3,name:"description",onChange:M}),Object(y.jsx)("div",{className:I()?"form-error-message":"hidden",children:l.descriptionError})]}),Object(y.jsxs)(V.a.Row,{children:[Object(y.jsxs)(V.a.Group,{as:W.a,className:"form-group",children:[Object(y.jsx)(V.a.Label,{children:"Price"}),Object(y.jsxs)(v.a,{className:"price-input",children:[Object(y.jsx)(v.a.Text,{children:"$"}),Object(y.jsx)(N.a,{className:D()?"is-invalid":"",onChange:H,name:"price",placeholder:"Enter the price of your gift"})]}),Object(y.jsx)("div",{className:D()?"form-error-message":"hidden",children:l.priceError})]}),Object(y.jsxs)(V.a.Group,{as:W.a,className:"form-group",children:[Object(y.jsx)(V.a.Label,{children:"Deadline"}),Object(y.jsx)(V.a.Control,{placeholder:"Enter a deadline for your gift",name:"deadline",type:"date",onChange:M})]})]}),Object(y.jsxs)(V.a.Group,{className:"form-group",children:[Object(y.jsx)(V.a.Label,{children:"Receiver"}),Object(y.jsx)(V.a.Control,{className:B()?"is-invalid":"",placeholder:"Enter the email of the user receiving the gift",name:"email",onChange:M}),Object(y.jsx)("div",{className:B()?"form-error-message":"hidden",children:l.emailError})]}),Object(y.jsxs)(V.a.Group,{className:"form-group",children:[Object(y.jsx)(V.a.Label,{children:"Url"}),Object(y.jsx)(V.a.Control,{className:P()?"is-invalid":"",placeholder:"Enter the Url for your gift",name:"link",onChange:M}),Object(y.jsx)("div",{className:P()?"form-error-message":"hidden",children:l.linkError})]}),Object(y.jsxs)(V.a.Group,{className:"form-group",children:[Object(y.jsx)(V.a.Label,{children:"Image"}),Object(y.jsx)(V.a.Control,{className:T()?"is-invalid":"",placeholder:"Enter the Url to an image of your gift",name:"thumbnail",onChange:M}),Object(y.jsx)("div",{className:T()?"form-error-message":"hidden",children:l.thumbnailError})]}),Object(y.jsx)(V.a.Group,{controlId:"formBasicCheckbox",children:Object(y.jsx)(V.a.Check,{onClick:G,type:"checkbox",label:"Private"})}),Object(y.jsx)(p.a,{onClick:A,children:"Add Gift"}),Object(y.jsx)(fe.a,{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!1})]})})}),Object(y.jsx)(Ie.a,{eventKey:"profile",title:"Automatic",children:Object(y.jsx)("div",{className:"add-gift-form-container grey-background",children:Object(y.jsxs)(V.a,{className:"gift-form",children:[Object(y.jsxs)(V.a.Group,{className:"form-group",children:[Object(y.jsx)(V.a.Label,{children:"Amazon Gift Url"}),Object(y.jsx)(V.a.Control,{placeholder:"Enter an Amazon Url for the gift you want to add",onChange:M,name:"amazonUrl"})]}),!f&&Object(y.jsx)(p.a,{onClick:F,children:"Go"}),Object(y.jsx)("div",{className:"d-flex justify-content-center",children:w&&Object(y.jsx)(De,{})}),function(){if(f)return Object(y.jsxs)("div",{children:[Object(y.jsxs)(V.a.Group,{className:"form-group",children:[Object(y.jsx)(V.a.Label,{children:"Name "}),Object(y.jsx)(V.a.Control,{className:S()?"is-invalid":"",placeholder:"Enter a name for your gift",value:n.name,onChange:M,name:"name"}),Object(y.jsx)("div",{className:S()?"form-error-message":"hidden",children:l.nameError})]}),Object(y.jsxs)(V.a.Group,{className:"form-group",children:[Object(y.jsx)(V.a.Label,{children:"Description "}),Object(y.jsx)(V.a.Control,{className:I()?"is-invalid":"",placeholder:"Enter a description for your gift",value:n.description,as:"textarea",rows:3,name:"description",onChange:M}),Object(y.jsx)("div",{className:I()?"form-error-message":"hidden",children:l.descriptionError})]}),Object(y.jsxs)(V.a.Group,{className:"form-group",children:[Object(y.jsx)(V.a.Label,{children:"Price"}),Object(y.jsxs)(v.a,{className:"price-input",children:[Object(y.jsx)(v.a.Prepend,{children:Object(y.jsx)(v.a.Text,{children:"$"})}),Object(y.jsx)(N.a,{className:D()?"is-invalid":"",onChange:H,name:"price",value:n.price,placeholder:"Enter the price of your gift"})]}),Object(y.jsx)("div",{className:D()?"form-error-message":"hidden",children:l.priceError})]}),Object(y.jsxs)(V.a.Group,{className:"form-group",children:[Object(y.jsx)(V.a.Label,{children:"Image"}),Object(y.jsx)("div",{className:"amazon-image-container",children:Object(y.jsx)(he.a,{src:n.thumbnail,alt:n.name,fluid:!0})})]}),Object(y.jsxs)(V.a.Group,{className:"form-group",children:[Object(y.jsx)(V.a.Label,{children:"Receiver"}),Object(y.jsx)(V.a.Control,{className:B()?"is-invalid":"",placeholder:"Enter the email of the user receiving the gift",name:"email",value:n.email,onChange:M}),Object(y.jsx)("div",{className:B()?"form-error-message":"hidden",children:l.emailError})]}),Object(y.jsxs)(V.a.Group,{className:"form-group",children:[Object(y.jsx)(V.a.Label,{children:"Deadline"}),Object(y.jsx)(V.a.Control,{placeholder:"Enter a deadline for your gift",name:"deadline",type:"date",onChange:M})]}),Object(y.jsx)(V.a.Group,{controlId:"formBasicCheckbox",children:Object(y.jsx)(V.a.Check,{onClick:G,type:"checkbox",label:"Private"})}),Object(y.jsx)(p.a,{onClick:A,children:"Add Gift"}),Object(y.jsx)(fe.a,{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!1})]})}()]})})})]})]})]})},Pe=a(259);a(236),a(237),a(238),a(239),a(240),a(241);var Te=function(){var e=Object(c.useContext)(x),t=e.user,a=e.setUser,n=Object(c.useState)({name:t.name,priv:t.priv,password:"",confirmPassword:"",email:""}),r=Object(i.a)(n,2),s=r[0],o=r[1],l=Object(c.useState)(!1),d=Object(i.a)(l,2),h=d[0],O=d[1];Object(c.useEffect)((function(){}),[]);var f=function(e){var t=e.target,a=t.name,c=t.value;o((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(u.a)({},a,c))}))},p=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.patch(t.id,{private:s.priv}).then((function(e){a(e)})).catch((function(){console.log("Error changing private")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"textFont",children:[Object(y.jsx)(U,{}),Object(y.jsx)(_.a,{className:"mt-3 w-75",children:Object(y.jsxs)(Y.a,{children:[Object(y.jsx)(Y.a.Header,{className:"text-center cardHeader",children:Object(y.jsx)("h3",{children:"Settings"})}),Object(y.jsxs)(Y.a.Body,{children:[Object(y.jsxs)(le.a,{className:"p-4",children:[Object(y.jsx)(v.a.Text,{children:"Full Name: "}),Object(y.jsx)("td",{className:"sample-td",children:Object(y.jsx)(Pe.a,{id:"name",model:{placeholder:"Enter full name"},mode:"Inline",type:"Text",value:s.name,saveButton:{content:"Save",cssClass:"e-outline"},cancelButton:{content:"Cancel",cssClass:"e-outline"},onChange:f})})]}),Object(y.jsxs)(le.a,{className:"p-4",children:[Object(y.jsx)(v.a.Text,{children:"Email Address: "}),Object(y.jsx)("td",{className:"sample-td",children:Object(y.jsx)(Pe.a,{id:"email",model:{placeholder:"Enter email address"},mode:"Inline",type:"Text",value:s.email,saveButton:{content:"Save",cssClass:"e-outline"},cancelButton:{content:"Cancel",cssClass:"e-outline"},onChange:f})})]}),Object(y.jsxs)(le.a,{className:"p-4",children:[Object(y.jsx)(v.a.Text,{children:"Password: "}),Object(y.jsx)("td",{className:"sample-td",children:Object(y.jsx)(Pe.a,{id:"pass",model:{placeholder:"Enter password"},mode:"Inline",type:"Text",value:s.password,saveButton:{content:"Save",cssClass:"e-outline"},cancelButton:{content:"Cancel",cssClass:"e-outline"},onChange:f})})]}),Object(y.jsx)(le.a,{className:"p-4",children:Object(y.jsxs)(v.a,{className:"d-flex flex-row w-50",children:[Object(y.jsx)(v.a.Text,{children:"Private Account"}),Object(y.jsx)(N.a,{id:"check",type:"checkbox",placeholder:s.priv,name:"priv",value:s.value,checked:h,onChange:function(){h?(O(!1),s.priv=0,p()):(O(!0),s.priv=1,p())}})]})})]})]})})]})};var Ge=function(){return Object(y.jsx)("label",{children:"Insert Terms and Conditions"})};a(242);a(134).config();var Ae=function(e){return Object(y.jsxs)("div",{children:[Object(y.jsx)(U,{}),Object(y.jsx)("div",{className:"content-container",children:Object(y.jsx)("div",{className:"about-page-container",children:Object(y.jsx)("div",{className:"about-info-container",children:Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{className:"about-section-title",children:"About wishwell"}),Object(y.jsx)("div",{class:"about-grey-background",children:Object(y.jsx)("p",{className:"section-description",children:"Wishwell is gift giving platform that combines the elements of a gift registry and a social media sharing platform. Use Wishwell to see and keep track of what gifts you and your friends want, see what upcoming all-events your friends are planning and create your own all-events, and donate to the gifts of your choosing!"})})]})})})})]})};var Fe=function(){var e=Object(c.useContext)(x).user,t=Object(c.useState)({name:"",description:"",privacy:0,end_date:"",userId:e.id}),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)({nameError:"",descriptionError:"",priceError:"",linkError:"",thumbnailError:"",emailError:""}),o=Object(i.a)(s,2),l=o[0],d=o[1],h=function(){return""!==l.nameError},O=function(){return""!==l.descriptionError},f=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==n.name){e.next=5;break}d((function(e){return Object(m.a)(Object(m.a)({},e),{},{nameError:"Value cannot be empty"})})),e.next=20;break;case 5:if(""!==n.description){e.next=9;break}d((function(e){return Object(m.a)(Object(m.a)({},e),{},{descriptionError:"Value cannot be empty"})})),e.next=20;break;case 9:return e.prev=9,e.next=12,M.create(n);case 12:e.sent,console.log("event has been created!"),Object(fe.b)("Your event has been added!"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[9,17]])})));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t=e.target,a=t.name,c=t.value;r((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(u.a)({},a,c))})),d((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(u.a)({},a+"Error",""))}))};return Object(y.jsxs)("div",{children:[Object(y.jsx)(U,{}),Object(y.jsxs)("div",{className:"content-container padding-container",children:[Object(y.jsx)("h1",{children:"Add an Event"}),Object(y.jsx)(Se.a,{fill:!0,className:"tabs",defaultActiveKey:"manual",children:Object(y.jsx)(Ie.a,{eventKey:"manual",title:"Manual",children:Object(y.jsx)("div",{className:"add-gift-form-container grey-background",children:Object(y.jsxs)(V.a,{className:"gift-form",children:[Object(y.jsxs)(V.a.Group,{className:"form-group",children:[Object(y.jsx)(V.a.Label,{children:"Name"}),Object(y.jsx)(V.a.Control,{className:h()?"is-invalid":"",placeholder:"Enter a name for your event",onChange:g,name:"name"}),Object(y.jsx)("div",{className:h()?"form-error-message":"hidden",children:l.nameError})]}),Object(y.jsxs)(V.a.Group,{className:"form-group",children:[Object(y.jsx)(V.a.Label,{children:"Description"}),Object(y.jsx)(V.a.Control,{className:O()?"is-invalid":"",placeholder:"Enter a description for your event",as:"textarea",rows:3,name:"description",onChange:g}),Object(y.jsx)("div",{className:O()?"form-error-message":"hidden",children:l.descriptionError})]}),Object(y.jsx)(V.a.Row,{children:Object(y.jsxs)(V.a.Group,{as:W.a,className:"form-group",children:[Object(y.jsx)(V.a.Label,{children:"Date"}),Object(y.jsx)(V.a.Control,{placeholder:"Enter the date of your event",name:"end_date",type:"date",onChange:g})]})}),Object(y.jsx)(V.a.Group,{controlId:"formBasicCheckbox",children:Object(y.jsx)(V.a.Check,{onClick:function(){r((function(e){return Object(m.a)(Object(m.a)({},e),{},{privacy:n.privacy?0:1})}))},type:"checkbox",label:"Private"})}),Object(y.jsx)(p.a,{onClick:f,children:"Add Event"}),Object(y.jsx)(fe.a,{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!1})]})})})})]})]})},Le=a(148);a(137);var Re=function(e){var t=e.userID,a=(e.name,Object(c.useState)({name:"",pic:"",bio:"",friend:!1,requested:!1,priv:!1})),n=Object(i.a)(a,2),r=n[0],s=n[1];return Object(c.useEffect)((function(){R.get(t).then((function(e){s((function(t){return Object(m.a)(Object(m.a)({},t),{},{name:e.name,bio:e.bio,dob:e.bio,pic:e.pic})}))}))}),[]),Object(y.jsx)("div",{className:"d-flex w-75 justify-content-center m-2 p-2 align-items-center",id:"userCard",children:Object(y.jsx)(_.a,{className:"d-flex justify-content-center align-items-center h-100 w-100",children:Object(y.jsxs)(le.a,{className:"d-flex justify-content-center align-items-center w-100 h-100",children:[Object(y.jsx)(W.a,{className:"d-flex",children:Object(y.jsx)("img",{src:r.pic,alt:"Profile Picture",id:"profilePicture"})}),Object(y.jsxs)(W.a,{className:"d-flex flex-column align-items-center",xs:5,id:"bio",children:[Object(y.jsx)("h3",{children:r.name}),Object(y.jsx)("p",{children:r.bio})]}),Object(y.jsx)(W.a,{className:"d-flex justify-content-end",children:Object(y.jsx)(p.a,{children:"Add Friend"})})]})})})};var Me=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(!0),o=Object(i.a)(s,2),d=o[0],j=o[1],b=Object(l.i)(),u=Object(c.useContext)(x).user;Object(c.useEffect)((function(){j(!0);var e=b.id.trim();R.find({query:{$select:["name","id"],$sort:{name:1},id:{$ne:u.id},name:{$like:e+"%"}}}).then((function(e){j(!1),0==e.data.length?r([]):r(e.data)}))}),[b.id]);var m=Object(c.useState)(""),h=Object(i.a)(m,2),O=h[0],f=h[1],p=Object(c.useState)(S.c),g=Object(i.a)(p,2),v=g[0],N=g[1],C=n.a.useMemo((function(){var e=Object(Le.a)(a);return null!==O&&e.sort((function(e,t){return e.name<t.name?"ASC"===O?-1:1:e.name>t.name?"ASC"===O?1:-1:0})),e}),[a,O]);return d?Object(y.jsxs)("div",{children:[Object(y.jsx)(U,{}),Object(y.jsx)("div",{className:"d-flex justify-content-center pt-5",children:Object(y.jsxs)("div",{className:"flex-column",children:[Object(y.jsx)("img",{src:"https://digitalsynopsis.com/wp-content/uploads/2016/06/loading-animations-preloader-gifs-ui-ux-effects-18.gif"}),Object(y.jsx)("h2",{className:"text-center",children:"Loading..."})]})})]}):0===a.length?Object(y.jsxs)("div",{children:[Object(y.jsx)(U,{}),Object(y.jsxs)("div",{className:"d-flex p-2 pb-0 mt-3 justify-content-center flex-column",id:"results",children:[Object(y.jsxs)("h3",{id:"searchResultsHeader",children:["No results were found for ",b.id,"."]}),Object(y.jsx)("h4",{className:"align-self-center",children:"Please try another search"})]})]}):Object(y.jsxs)("div",{children:[Object(y.jsx)(U,{}),Object(y.jsxs)("div",{className:"d-flex p-2 justify-content-around pb-0 mt-3",id:"results",children:[Object(y.jsx)("div",{className:"align-self-end",children:Object(y.jsxs)("div",{id:"numberOfResults",children:[a.length," result(s)"]})}),Object(y.jsx)("div",{children:Object(y.jsxs)("h2",{id:"searchResultsHeader",children:["Search Results for: ",b.id]})}),Object(y.jsx)("div",{className:"align-self-end p-2",children:Object(y.jsxs)("button",{onClick:function(){"ASC"===O?(f("DESC"),N(S.e)):"DESC"===O?(f(""),N(S.c)):(f("ASC"),N(S.d))},children:[" ",Object(y.jsx)(I.a,{icon:v})]})})]}),Object(y.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:C.map((function(e){return Object(y.jsx)(Re,{userID:e.id})}))})]})},ze=a(23);var He=function(e){var t=Object(c.useState)(null),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useMemo)((function(){return{user:n,setUser:r}}),[n,r]);return Object(y.jsx)(x.Provider,{value:s,children:Object(y.jsxs)(o.a,{history:Object(ze.a)(),children:[Object(y.jsx)(Ee,{}),Object(y.jsx)("div",{className:"App",style:{width:"100%",height:"100%"},children:Object(y.jsxs)(l.d,{children:[Object(y.jsx)(l.b,{path:"/signup",exact:!0,component:Z}),Object(y.jsx)(l.b,{path:"/",exact:!0,component:ce}),Object(y.jsx)(l.b,{path:"/about",exact:!0,component:Ae}),Object(y.jsx)(l.b,{path:"/login",exact:!0,component:re}),Object(y.jsx)(l.b,{path:"/terms",exact:!0,component:Ge}),Object(y.jsx)(l.b,{path:"/debug",exact:!0,component:ne}),Object(y.jsx)(l.b,{path:"/search-gift",exact:!0,component:we}),Object(y.jsx)(oe,{path:"/account/:id",exact:!0,component:Ne}),Object(y.jsx)(oe,{path:"/gifts/:id",exact:!0,component:ke}),Object(y.jsx)(oe,{path:"/addGift",exact:!0,component:Be}),Object(y.jsx)(oe,{path:"/addEvent",exact:!0,component:Fe}),Object(y.jsx)(oe,{path:"/settings",exact:!0,component:Te}),Object(y.jsx)(oe,{path:"/search=:id",exact:!0,component:Me})]})})]})})},Ue=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,267)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};s.a.render(Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)(He,{})}),document.getElementById("root")),Ue()},37:function(e,t,a){},59:function(e,t,a){}},[[243,1,2]]]);
//# sourceMappingURL=main.49e896bf.chunk.js.map
